"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.findFiberByHtmlElement = findFiberByHtmlElement;

var _findDebugSource = require("./findDebugSource");

function findFiberByHtmlElement(target, shouldHaveDebugSource) {
  const renderers = window.__REACT_DEVTOOLS_GLOBAL_HOOK__?.renderers; // console.log("RENDERERS: ", renderers);

  const renderersValues = renderers?.values();

  if (renderersValues) {
    for (const renderer of Array.from(renderersValues)) {
      if (renderer.findFiberByHostInstance) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const found = renderer.findFiberByHostInstance(target);

        if (found) {
          if (shouldHaveDebugSource) {
            return (0, _findDebugSource.findDebugSource)(found)?.fiber || null;
          } else {
            return found;
          }
        }
      }
    }
  }

  return null;
}