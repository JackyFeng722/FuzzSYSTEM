import { createSignal } from "solid-js";
const [signalOptions, setSignalOptions] = createSignal({});
export function setOptions(newOptions) {
  const savedOptions = getOptions();
  const optionsToSave = { ...savedOptions,
    ...newOptions
  };
  localStorage.setItem("LOCATOR_OPTIONS", JSON.stringify(optionsToSave));
  setSignalOptions(optionsToSave);
}
export function getOptions() {
  const options = { ...signalOptions()
  };
  const storedOptions = localStorage.getItem("LOCATOR_OPTIONS");

  if (storedOptions) {
    const parsedOptions = JSON.parse(storedOptions);

    if (typeof parsedOptions.projectPath === "string") {
      options.projectPath = parsedOptions.projectPath;
    }

    if (typeof parsedOptions.templateOrTemplateId === "string") {
      options.templateOrTemplateId = parsedOptions.templateOrTemplateId;
    }

    if (typeof parsedOptions.adapterId === "string") {
      options.adapterId = parsedOptions.adapterId;
    } // FIXME add replacePath


    if (typeof parsedOptions.disabled === "string") {
      options.disabled = parsedOptions.disabled;
    }
  }

  return options;
}
export function cleanOptions() {
  localStorage.removeItem("LOCATOR_OPTIONS");
}